import{a as h}from"./axios.L6U4YIEh.js";import{_ as l,o as a,c as i,a as e,i as _,j as d,v as c,t as f,g,b as w}from"./entry.7bgofHqV.js";const x={data(){return{username:"",password:"",errorMessage:""}},methods:{async login(){try{const s=await h.post("http://localhost:8080/auth/authenticate",{username:this.username,password:this.password});document.cookie=`accessToken=${s.data.accessToken}; path=/`,document.cookie=`user=${JSON.stringify(s.data.user)}; path=/`,this.$router.push("/"),window.location.reload()}catch(s){s.response&&s.response.status===401?(console.error("Error 401: Unauthorized"),this.errorMessage="Error 401: Unauthorized"):(console.error("Login failed:",s),this.errorMessage="An error occurred. Please try again later.")}}}},b={class:"flex justify-center items-center"},y={class:"w-full max-w-md"},v=e("h1",{class:"text-4xl uppercase tracking-wider text-center my-5"},"Login",-1),k={class:"mb-4"},M=e("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"username"},"Username or Email",-1),U={class:"mb-4"},$=e("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"password"},"Password",-1),E=e("button",{type:"submit",class:"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline w-full"}," Login ",-1),L={key:0,class:"text-red-500 text-xs mt-2"};function V(s,o,p,m,t,n){return a(),i("div",b,[e("div",y,[e("form",{onSubmit:o[2]||(o[2]=_((...r)=>n.login&&n.login(...r),["prevent"])),class:"shadow-md rounded px-8 pt-6 pb-8 mb-4"},[v,e("div",k,[M,d(e("input",{"onUpdate:modelValue":o[0]||(o[0]=r=>t.username=r),id:"username",name:"username",type:"text",placeholder:"Username or Email",required:"",class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"},null,512),[[c,t.username]])]),e("div",U,[$,d(e("input",{"onUpdate:modelValue":o[1]||(o[1]=r=>t.password=r),id:"password",name:"password",type:"password",placeholder:"Password",required:"",class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"},null,512),[[c,t.password]])]),E,t.errorMessage?(a(),i("div",L,f(t.errorMessage),1)):g("",!0)],32)])])}const u=l(x,[["render",V]]),N={components:{Login:u}},B={class:"mt-10"};function P(s,o,p,m,t,n){const r=u;return a(),i("div",B,[w(r)])}const j=l(N,[["render",P]]);export{j as default};
